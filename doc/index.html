<!doctype html>
<html lang="en">
<head>
  <meta charset='utf-8'>
  <title>mango 1.0.2 | Documentation</title>
  <meta name='description' content='Object-to-Graph Mapping tool for Node.js and Neo4j'>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' rel='stylesheet'>
  <link href='assets/style.css' rel='stylesheet'>
  <link href='assets/github.css' rel='stylesheet'>
  <link href='assets/split.css' rel='stylesheet'>
</head>
<body class='documentation m0'>
    <div class='flex'>
      <div id='split-left' class='overflow-auto fs0 height-viewport-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'>mango</h3>
          <div class='mb1'><code>1.0.2</code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block input'
            spellcheck='false'
            autocapitalize='off'
            autocorrect='off'
            type='text' />
          <div id='toc'>
            <ul class='list-reset h5 py1-ul'>
              
                
                <li><a
                  href='#mango'
                  class=" toggle-sibling">
                  Mango
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  <ul class='list-reset py1-ul pl1'>
                    <li class='h5'><span>Static members</span></li>
                    
                      <li><a
                        href='#mangosearch'
                        class='regular pre-open'>
                        .search
                      </a></li>
                    
                    </ul>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#mangofindnode'
                        class='regular pre-open'>
                        #findNode
                      </a></li>
                      
                      <li><a
                        href='#mangobuildandmergenode'
                        class='regular pre-open'>
                        #buildAndMergeNode
                      </a></li>
                      
                      <li><a
                        href='#mangobuildandmergerelationship'
                        class='regular pre-open'>
                        #buildAndMergeRelationship
                      </a></li>
                      
                      <li><a
                        href='#mangomergeenhancednode'
                        class='regular pre-open'>
                        #mergeEnhancedNode
                      </a></li>
                      
                      <li><a
                        href='#mangobuildandmergeenhancednode'
                        class='regular pre-open'>
                        #buildAndMergeEnhancedNode
                      </a></li>
                      
                      <li><a
                        href='#mangodeletenode'
                        class='regular pre-open'>
                        #deleteNode
                      </a></li>
                      
                      <li><a
                        href='#mangois'
                        class='regular pre-open'>
                        #is
                      </a></li>
                      
                      <li><a
                        href='#mangodecomposeprops'
                        class='regular pre-open'>
                        #decomposeProps
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
                
                <li><a
                  href='#conditioncontainer'
                  class=" toggle-sibling">
                  ConditionContainer
                  <span class='icon'>▸</span>
                </a>
                
                <div class='toggle-target display-none'>
                  
                  
                    <ul class='list-reset py1-ul pl1'>
                      <li class='h5'><span>Instance members</span></li>
                      
                      <li><a
                        href='#conditioncontainergettype'
                        class='regular pre-open'>
                        #getType
                      </a></li>
                      
                      <li><a
                        href='#conditioncontainertoobject'
                        class='regular pre-open'>
                        #toObject
                      </a></li>
                      
                    </ul>
                  
                  
                  
                </div>
                
                </li>
              
            </ul>
          </div>
          <div class='mt1 h6 quiet'>
            <a href='https://documentation.js.org/reading-documentation.html'>Need help reading this?</a>
          </div>
        </div>
      </div>
      <div id='split-right' class='relative overflow-auto height-viewport-100'>
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='mango'>
      Mango
    </h3>
    
    
  </div>
  

  <p>Mango is a user-friendly Object-To-Graph Mapper build on top of Neo4j's official
JavaScript Driver.</p>
<p>At this moment [2022-02-22] the version 1.0.1 is opinionated insofar as its main
purpose has been to help build Knowledge Graphs (aka KG). These KGs would be based on
preserving unique Entities (aka Nodes) and Relationships between Nodes.</p>
<p>The key driving motive was to design a tool which would help ensure that there are no
copies of the same Node.</p>
<p>The idea came up when I worked for a family office and was dealing with bits and pieces
of data coming across my desk. I noticed that I would spend most of my time and effort
not on the value-generating activities relating to the data, but on solving questions
like:</p>
<ul>
<li>What is the correct full address of Person X?</li>
<li>Did we send that document to Y?</li>
<li>Where can I find Z?</li>
</ul>
<p>It was obvious that the solutions to these questions (99% of time that would be a
source document, or colleague's advice) resided within my colleague's minds or on their
desktops/emails.</p>
<p>We did have an old and limited database that had some records of some legal entities
and natural persons - but to use that knowledge it had to be checked and double-checked
with colleagues first. Which in 50% of situations required them requesting the info from
their counterparties.</p>
<p>The problem was that once all the effort was made and the relevant info was received,
verified and utilized, it was simply forgotten until the next time when same problem
arrived. And when it did, usually after a prolonged period of time, no one could easily
locate the previous result to reduce the amount of cognitive work.</p>
<p>Simple solution was to agree to share all such hard-earned knowledge, but:</p>
<ul>
<li>There was no simple way to do it. We tried Confluence - but it required a learning
curve that no one wanted. Everyone want to go on writing emails and making phone calls.</li>
<li>No one wants to archive. Archiving is a difficult mental work which is not rewarded
in an obvious, immediate way. Therefore no one does it. This creates a huge (but
familiar) tech debt in a form of knowledge search, repeating same work that already
has been done. On the upside this is how office workers1.0 justify the time they spend
in the office getting paid.</li>
</ul>

    <div class='pre p1 fill-light mt0'>Mango</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    Configuration object.

          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
  <td class='break-word'><span class='code bold'>config.engine</span> <code class='quiet'>Engine</code>
  </td>
  <td class='break-word'><span>Instance of an Engine class. If none is supplied, Mango will look for config.engineConfig. If that does not exist or is unusable, a NoEngineError will be thrown.
</span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>config.engineConfig</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>
  </td>
  <td class='break-word'><span>Configuration object to instantiate connection to Neo4j.
</span></td>
</tr>

  
    <tr>
  <td class='break-word'><span class='code bold'>config.engineConfig.username</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
  </td>
  <td class='break-word'><span>Neo4j DBMS username.
</span></td>
</tr>


  
    <tr>
  <td class='break-word'><span class='code bold'>config.engineConfig.password</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
  </td>
  <td class='break-word'><span>Neo4j DBMS password.
</span></td>
</tr>


  
    <tr>
  <td class='break-word'><span class='code bold'>config.engineConfig.ip</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
  </td>
  <td class='break-word'><span>Neo4j DBMS IP to connect to. Default: '0.0.0.0'.
</span></td>
</tr>


  
    <tr>
  <td class='break-word'><span class='code bold'>config.engineConfig.port</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
  </td>
  <td class='break-word'><span>Neo4j DBMS port to connect to. Default: '7687'.
</span></td>
</tr>


  
    <tr>
  <td class='break-word'><span class='code bold'>config.engineConfig.database</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>
  </td>
  <td class='break-word'><span>Neo4j DBMS database name to use. Default: 'neo4j'.
</span></td>
</tr>


  


              
                <tr>
  <td class='break-word'><span class='code bold'>config.builder</span> <code class='quiet'>Builder</code>
  </td>
  <td class='break-word'><span>Instance of a Builder class. If none is supplied, a generic one will be instantiated for you.
</span></td>
</tr>


              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Related</div>
    
      
        module:Builder

      
    
      
        module:Engine

      
    
  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> mango = <span class="hljs-keyword">new</span> Mango({
 <span class="hljs-attr">engineConfig</span>: {
   <span class="hljs-attr">username</span>: <span class="hljs-string">&#x27;neo4j&#x27;</span>,
   <span class="hljs-attr">password</span>: <span class="hljs-string">&#x27;neo4jpass&#x27;</span>,
 }
}); <span class="hljs-comment">// connects to Neo4j DBMS instance running on 0.0.0.0:7687 and uses &#x27;neo4j&#x27; database</span></pre>
    
  

  
    <div class='py1 quiet mt1 prose-big'>Static Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='mangosearch'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>search(condition, value)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>A shortcut to create a search condition.</p>

    <div class='pre p1 fill-light mt0'>search(condition: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, value: any): <a href="#conditioncontainer">ConditionContainer</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>condition</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    Condition for value search ( > &#x3C; >= &#x3C;= == etc. ).

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>value</span> <code class='quiet'>(any)</code>
	    Searched value.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#conditioncontainer">ConditionContainer</a></code>:
        
      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='mangofindnode'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>findNode(labels, props, config)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Main method to search for data in Neo4j.</p>

    <div class='pre p1 fill-light mt0'>findNode(labels: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>, props: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, config: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(Result | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/API/Node/nextSibling">Node</a>>)></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>labels</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>)</code>
	    Array of labels to match Nodes by.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>props</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    A POJO containing key:value to search for matches.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>{}</code>)</code>
	    Configuration object.

          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
  <td class='break-word'><span class='code bold'>config.exactMatch</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>
  
    (default <code>false</code>)
  </td>
  <td class='break-word'><span>{true} Mango searches for exactly what we specified, ie the returned Nodes must not have any extra properties above supplied labels &#x26; properties. You get exactly what you asked for.
<p>{false} Mango matches any Nodes that have supplied labels and properties and the returned result may contain Nodes with extra properties. You may get more than you asked for.</p>
</span></td>
</tr>


              
                <tr>
  <td class='break-word'><span class='code bold'>config.returnResult</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>
  
    (default <code>false</code>)
  </td>
  <td class='break-word'><span>{true} returns a Result with additional Neo4j query data.
<p>{false} return Node[].</p>
</span></td>
</tr>


              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(Result | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/API/Node/nextSibling">Node</a>>)></code>:
        
      
    
  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> rv =
 mango
 .findNode([<span class="hljs-string">&quot;Person&quot;</span>], { <span class="hljs-attr">NAME</span>: <span class="hljs-string">&#x27;Bob&#x27;</span> })
 .then(<span class="hljs-function"><span class="hljs-params">nodes</span> =&gt;</span> {
   <span class="hljs-built_in">console</span>.log(nodes.length) <span class="hljs-comment">// 2 &lt;- we found 2 Nodes with NAME == &#x27;Bob&#x27;</span>
   <span class="hljs-built_in">console</span>.log(nodes[<span class="hljs-number">0</span>].getProperty(<span class="hljs-string">&quot;fullName&quot;</span>)) <span class="hljs-comment">// Bob Dylan</span>
   <span class="hljs-built_in">console</span>.log(nodes[<span class="hljs-number">1</span>].getProperty(<span class="hljs-string">&quot;fullName&quot;</span>)) <span class="hljs-comment">// Bob Marley</span>
 })</pre>
    
  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mangobuildandmergenode'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>buildAndMergeNode(labels, props, config)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Builds a Node and merges it into Neo4j.</p>

    <div class='pre p1 fill-light mt0'>buildAndMergeNode(labels: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>, props: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, config: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(Result | EnhancedNode)></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>labels</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&#x3C;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>>)</code>
	    Array of labels to match Nodes by.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>props</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    A POJO with properties to construct and merge a Node to Neo4j. !MUST contain at least one label and a REQUIRED property to be unique (Uniqueness Requirement).

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>{}</code>)</code>
	    Configuration object.

          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
  <td class='break-word'><span class='code bold'>config.returnResult</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>
  
    (default <code>false</code>)
  </td>
  <td class='break-word'><span>{true} returns a Result with additional Neo4j query data.
<p>{false} returns Node[].</p>
</span></td>
</tr>


              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(Result | EnhancedNode)></code>:
        
      
    
  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> node =
 <span class="hljs-keyword">await</span> mango.buildAndMergeNode([<span class="hljs-string">&quot;Product&quot;</span>], { <span class="hljs-attr">NAME</span>: <span class="hljs-string">&quot;Sweet Mango&quot;</span> });

 <span class="hljs-built_in">console</span>.log(node.isWritten());  <span class="hljs-comment">// true &lt;- Neo4j has a (Product { NAME: &quot;Sweet Mango&quot;, _hash:str, _uuid:str, _date_created: TimeArray })</span>
 <span class="hljs-built_in">console</span>.log(node.getId());      <span class="hljs-comment">// 1 &lt;- Neo4j&#x27;s Id for this Node</span></pre>
    
  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mangobuildandmergerelationship'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>buildAndMergeRelationship(startNode, relationship, endNode, config)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Builds a Relationship and merges it to Neo4j.
Needs no direction, as it is set by the position of startNode &#x26; endNode.
Namely, (startNode)-[:RELATIONSHIP]->(endNode).</p>

    <div class='pre p1 fill-light mt0'>buildAndMergeRelationship(startNode: (<a href="https://developer.mozilla.org/docs/Web/API/Node/nextSibling">Node</a> | EnhancedNode), relationship: (SimplifiedRelationshipArray | SimplifiedRelationshipObject), endNode: (<a href="https://developer.mozilla.org/docs/Web/API/Node/nextSibling">Node</a> | EnhancedNode), config: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(Result | Relationship)></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>startNode</span> <code class='quiet'>((<a href="https://developer.mozilla.org/docs/Web/API/Node/nextSibling">Node</a> | EnhancedNode))</code>
	    Node that has an outbound Relationship.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>relationship</span> <code class='quiet'>((SimplifiedRelationshipArray | SimplifiedRelationshipObject))</code>
	    [["REL_TYPES"], "required" | "optional", { relProps } ] | { labels: string[], properties: Object, necessity: "required" | "optional" }.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>endNode</span> <code class='quiet'>((<a href="https://developer.mozilla.org/docs/Web/API/Node/nextSibling">Node</a> | EnhancedNode))</code>
	    Node that has an inbound Relationship.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>{}</code>)</code>
	    Configuration object.

          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
  <td class='break-word'><span class='code bold'>config.returnResult</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>
  
    (default <code>false</code>)
  </td>
  <td class='break-word'><span>{true} returns a Result with additional Neo4j query data.
<p>{false} returns Relationship.</p>
</span></td>
</tr>


              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(Result | Relationship)></code>:
        
      
    
  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// Find Nodes.</span>
<span class="hljs-keyword">const</span> bob = <span class="hljs-keyword">await</span> mango.buildAndMergeNode([<span class="hljs-string">&quot;Person&quot;</span>], {
 <span class="hljs-attr">FULL_NAME</span>: <span class="hljs-string">&quot;SpongeBob SquarePants&quot;</span>,
});
<span class="hljs-keyword">const</span> patrick = <span class="hljs-keyword">await</span> mango.buildAndMergeNode([<span class="hljs-string">&quot;Person&quot;</span>], {
 <span class="hljs-attr">FULL_NAME</span>: <span class="hljs-string">&quot;Patrick Star&quot;</span>,
});

<span class="hljs-comment">// Build a beautiful friendship!</span>
<span class="hljs-keyword">const</span> relationship = <span class="hljs-keyword">await</span> mango.buildAndMergeRelationship(
 bob,
 {
   <span class="hljs-attr">labels</span>: [<span class="hljs-string">&quot;IS_FRIENDS_WITH&quot;</span>],
   <span class="hljs-attr">properties</span>: { <span class="hljs-attr">since</span>: <span class="hljs-string">&quot;forever&quot;</span> },
 }
 patrick
);


<span class="hljs-comment">// Check</span>
<span class="hljs-comment">// (:Person { FULL_NAME: &quot;SpongeBob SquarePants&quot; })-[:IS_FRIENDS_WITH { since: &quot;forever&quot; }]-&gt;(:Person { FULL_NAME: &quot;Patrick Star&quot; })</span>
<span class="hljs-comment">// exists</span>
<span class="hljs-built_in">console</span>.log(relationship.isWritten()) <span class="hljs-comment">// true</span></pre>
    
  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mangomergeenhancednode'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>mergeEnhancedNode(enode, config)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Merges EnhancedNode into Neo4j. Ensures that specified pattern exists in Neo4j.
Separates building of Nodes/Relationships from their merging.</p>

    <div class='pre p1 fill-light mt0'>mergeEnhancedNode(enode: EnhancedNode, config: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(Result | EnhancedNode)></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>enode</span> <code class='quiet'>(EnhancedNode)</code>
	    EnhancedNode to merge into Neo4j.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>{}</code>)</code>
	    Configuration object.

          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
  <td class='break-word'><span class='code bold'>config.returnResult</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>
  
    (default <code>false</code>)
  </td>
  <td class='break-word'><span>{true} returns a Result with additional Neo4j query data.
<p>{false} returns Relationship.</p>
</span></td>
</tr>


              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(Result | EnhancedNode)></code>:
        
      
    
  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-comment">// Merge a pattern to Neo4j:</span>
<span class="hljs-comment">// (:Person { NAME: &quot;SpongeBob&quot; })-[:HAS_FRIEND]-&gt;(:Person { NAME: &quot;Patrick&quot; })</span>

<span class="hljs-keyword">let</span> person: EnhancedNode = builder.makeEnhancedNode(
  builder.makeNode([<span class="hljs-string">&quot;Person&quot;</span>], { <span class="hljs-attr">NAME</span>: <span class="hljs-string">&quot;SpongeBob&quot;</span> }),
  [
    builder.makeRelationshipCandidate(
      [<span class="hljs-string">&quot;HAS_FRIEND&quot;</span>],
      <span class="hljs-comment">// or use</span>
      <span class="hljs-comment">// builder.makeNode([&quot;Person&quot;], { NAME: &quot;Patrick&quot; })</span>
      <span class="hljs-keyword">await</span> mango.buildAndMergeNode([<span class="hljs-string">&quot;Person&quot;</span>], { <span class="hljs-attr">NAME</span>: <span class="hljs-string">&quot;Patrick&quot;</span> })
    ),
  ]
);</pre>
    
  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mangobuildandmergeenhancednode'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>buildAndMergeEnhancedNode(graphPattern, config)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Builds and merges EnhancedNode (a subgraph) to Neo4j.
Ensures that specified pattern exists in Neo4j.
Allows a user-friendly declaration of a graph pattern that needs to be merged into Neo4j.</p>

    <div class='pre p1 fill-light mt0'>buildAndMergeEnhancedNode(graphPattern: SimplifiedEnhancedNodeObject, config: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(Result | EnhancedNode)></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>graphPattern</span> <code class='quiet'>(SimplifiedEnhancedNodeObject)</code>
	    a graph pattern (aka EnhancedNode) to be built and merged into Neo4j.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>{}</code>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;(Result | EnhancedNode)></code>:
        
      
    
  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">import</span> { isEnhancedNode, log } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;mango&#x27;</span>;

<span class="hljs-comment">// Create the following pattern in Neo4j:</span>
<span class="hljs-comment">// (:Person { NAME: &quot;SpongeBob&quot; })-[:HAS_FRIEND]-&gt;(:Person { NAME: &quot;Patrick&quot; })</span>

<span class="hljs-keyword">let</span> person: EnhancedNode = <span class="hljs-keyword">await</span> mango.buildAndMergeEnhancedNode({
 <span class="hljs-attr">labels</span>: [<span class="hljs-string">&quot;Person&quot;</span>],
 <span class="hljs-attr">properties</span>: { <span class="hljs-attr">NAME</span>: <span class="hljs-string">&quot;Sponge Bob&quot;</span> },
 <span class="hljs-attr">relationships</span>: [
   {
     <span class="hljs-attr">labels</span>: [<span class="hljs-string">&quot;HAS_FRIEND&quot;</span>],
     <span class="hljs-attr">partnerNode</span>: { <span class="hljs-attr">labels</span>: [<span class="hljs-string">&quot;Person&quot;</span>], <span class="hljs-attr">properties</span>: { <span class="hljs-attr">NAME</span>: <span class="hljs-string">&quot;Patrick&quot;</span> } },
   },
 ],
});

log(isEnhancedNode(person)); <span class="hljs-comment">// true</span>
log(person.isWritten());     <span class="hljs-comment">// true &lt;- pattern is written to Neo4j</span></pre>
    
  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mangodeletenode'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>deleteNode(node, config)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Removes Node/EnhancedNode and all its Relationships from Neo4j.</p>

    <div class='pre p1 fill-light mt0'>deleteNode(node: (<a href="https://developer.mozilla.org/docs/Web/API/Node/nextSibling">Node</a> | EnhancedNode), config: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Result></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>node</span> <code class='quiet'>((<a href="https://developer.mozilla.org/docs/Web/API/Node/nextSibling">Node</a> | EnhancedNode))</code>
	    Node to delete.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>config</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
            = <code>{}</code>)</code>
	    Configuration object.

          </div>
          
          <table class='mt1 mb2 fixed-table h5 col-12'>
            <colgroup>
              <col width='30%' />
              <col width='70%' />
            </colgroup>
            <thead>
              <tr class='bold fill-light'>
                <th>Name</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody class='mt1'>
              
                <tr>
  <td class='break-word'><span class='code bold'>config.archiveNodes</span> <code class='quiet'><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code>
  
    (default <code>false</code>)
  </td>
  <td class='break-word'><span>{true} does not delete anything. Instead it sets { _isCurrent: false, _dateArchived: TimeArray } on Node &#x26; all its Relationships.
<p>{false} permanently deletes Nodes and all its Relations.</p>
</span></td>
</tr>


              
            </tbody>
          </table>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;Result></code>:
        Returns Result where Result.data contains affected Node and its Relationships.

      
    
  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> mango = <span class="hljs-keyword">new</span> Mango({ engineConfig });
<span class="hljs-keyword">const</span> bob = <span class="hljs-keyword">await</span> mango.findNode([<span class="hljs-string">&quot;Person&quot;</span>], { <span class="hljs-attr">fullName</span>: <span class="hljs-string">&#x27;SpongeBob SquarePants&#x27;</span> });
<span class="hljs-keyword">const</span> rv =
 mango
 .deleteNode(bob)
 .then(<span class="hljs-function"><span class="hljs-params">node</span> =&gt;</span> {
   <span class="hljs-comment">// node == EnhancedNode that specifies all Relationships that were affected</span>
   <span class="hljs-built_in">console</span>.log(node.getProperty(<span class="hljs-string">&#x27;_hasBeenDeleted&#x27;</span>)); <span class="hljs-comment">// true</span>
   <span class="hljs-built_in">console</span>.log(node.getProperty(<span class="hljs-string">&#x27;_whenWasDeleted&#x27;</span>)); <span class="hljs-comment">// [year, month, day, weekday, timestamp]</span>
   <span class="hljs-built_in">console</span>.log(node.getProperty(<span class="hljs-string">&#x27;_isArchived&#x27;</span>)); <span class="hljs-comment">// false</span>
 })</pre>
    
  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mangois'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>is(condition, value)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>A shortcut to create a search condition.
A non-static version of static search.</p>

    <div class='pre p1 fill-light mt0'>is(condition: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, value: any): <a href="#conditioncontainer">ConditionContainer</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>condition</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    Condition for value search ( > &#x3C; >= &#x3C;= == etc. ).

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>value</span> <code class='quiet'>(any)</code>
	    Searched value.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#conditioncontainer">ConditionContainer</a></code>:
        
      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='mangodecomposeprops'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>decomposeProps(props)</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Helper method to classify a POJO's properties into REQUIRED/optional/_private types.
Used by Mango to create unique Nodes based on REQUIRED properties.</p>

    <div class='pre p1 fill-light mt0'>decomposeProps(props: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>): {requiredProps: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, optionalProps: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, privateProps: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>}</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>props</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>{requiredProps: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, optionalProps: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, privateProps: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>}</code>:
        
      
    
  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Example</div>
    
      
      <pre class='p1 overflow-auto round fill-light'><span class="hljs-keyword">const</span> rv = <span class="hljs-keyword">new</span> Mango().decomposeProps({
 <span class="hljs-attr">SOMETHINGIMPORTANT</span>: <span class="hljs-string">&#x27;foo&#x27;</span>,
 <span class="hljs-attr">somethingOptional</span>: <span class="hljs-string">&#x27;bar&#x27;</span>,
 <span class="hljs-attr">_andSomePrivateProp</span>: <span class="hljs-string">&#x27;kek&#x27;</span>
 });
<span class="hljs-built_in">console</span>.log(rv);
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//  requiredProps: { SOMETHINGIMPORTANT: &#x27;foo&#x27; },</span>
<span class="hljs-comment">//  optionalProps: { somethingOptional: &#x27;bar&#x27; },</span>
<span class="hljs-comment">//  privateProps: { _andSomePrivateProp: &#x27;kek&#x27; },</span>
<span class="hljs-comment">// }</span></pre>
    
  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='conditioncontainer'>
      ConditionContainer
    </h3>
    
    
  </div>
  

  <p>Represents a searched value and its search condition.</p>

    <div class='pre p1 fill-light mt0'>new ConditionContainer(condition: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, value: any)</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>condition</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    Condition for value search ( > &#x3C; >= &#x3C;= == etc. ).

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>value</span> <code class='quiet'>(any)</code>
	    Searched value.

          </div>
          
        </div>
      
    </div>
  

  

  

  

  

  

  

  
    <div class='py1 quiet mt1 prose-big'>Instance Members</div>
    <div class="clearfix">
  
    <div class='border-bottom' id='conditioncontainergettype'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>getType()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Helper method to check value's type.</p>

    <div class='pre p1 fill-light mt0'>getType(): any</div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code>any</code>:
        value type

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
    <div class='border-bottom' id='conditioncontainertoobject'>
      <div class="clearfix small pointer toggle-sibling">
        <div class="py1 contain">
            <a class='icon pin-right py1 dark-link caret-right'>▸</a>
            <span class='code strong strong truncate'>toObject()</span>
        </div>
      </div>
      <div class="clearfix display-none toggle-target">
        <section class='p2 mb2 clearfix bg-white minishadow'>

  

  <p>Helper method to unwrap value.</p>

    <div class='pre p1 fill-light mt0'>toObject(): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></div>
  
  

  
  
  
  
  
  

  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        { condition: value }.

      
    
  

  

  

  

  

  

  

  
</section>

      </div>
    </div>
  
</div>

  

  

  
</section>

          
        
      </div>
    </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/split.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
